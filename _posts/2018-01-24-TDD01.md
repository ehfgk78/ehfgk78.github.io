---
layout: post
title:  "TDD with Python: 염소책01"
date:   2018-01-24 01:20 +0900
categories: [TDD, Django]
tags: [TDD, Django ]
---

* Kramdown table of contents
{:toc .toc}

---



# 1. 참고

## 1)  블로그, 책

![png]({{ site.url }}/data/TDD/1.jpg)

* [Obey the Testing Goat! : Test-Driven Development with Python](https://www.obeythetestinggoat.com/)  - 클린 코드를 위한 테스트 주도 개발(파이썬을 이용한) 

  *  이 포스트는 위 글을 주로 요약 정리한 내용입니다. 

* [위키백과-테스트 주도 개발](https://ko.wikipedia.org/wiki/%ED%85%8C%EC%8A%A4%ED%8A%B8_%EC%A3%BC%EB%8F%84_%EA%B0%9C%EB%B0%9C) 

* [이한영 블로그- 클린 코드를 위한 테스트 주도 개발 보조 자료](https://lhy.kr/tdd-with-python) 

* [임재곤의 개발 블로그 - 이해하기 쉬운 테스트 개발 방법론(TDD) 설명! ](http://hellogohn.com/post_one162) 

  * TDD 설명은 위 블로그의 내용을 요약 정리하였습니다.  이 포스트보다 더 좋습니다. 

  ​


## 2) [클린 코드를 위한 테스트 주도개발(Companion Video)](https://www.obeythetestinggoat.com/book/video_plug.html)



![All Code is Guilty Until proven innocent]({{ site.url}}/data/TDD/2-tdd.png) 

# 2. TDD? 

* 린(Lean) 소프트웨어 개발론의 핵심 철학 중 하나는 **“결함은 발견 즉시 해결”**이다. 린 개발은 이것의 실천법으로 **테스트 주도 개발(Test-Driven Development, [TDD](http://en.wikipedia.org/wiki/Test-driven_development))을 제시**한다. 
* TDD - TDD는 반복 테스트을 이용한  소프트웨어 개발법이다. 작은 단위의 테스트 케이스를 작성하고 이를 통과하는 코드를 추가하는 단계를 반복하여 소프트웨어를 구현한다.  **TDD의 목표는 작동하는 깔끔한 코드 “Clean code that works”** 이다.



![red-green-refactor]({{ site.url}}/data/TDD/2-red-green-refactor.png)



* TDD의 방법론 -   TDD는 **테스트 케이스**를 생성한다. 테스트 케이스는 **자동화된 테스트 도구**로 이용되어, 코드 변경시 기존 기능이 제대로 동작하는지 쉽게 확인할 수 있고 정상 동작을 보장한다. 또한 TDD는 **리펙토링을 개발 프로세스에 포함**시켜 ‘변경’이라는 소프트웨어의 특성을 반영한다. ❶ 오직 자동화된 테스트가 실패할 경우에만 새로운 코드를 작성한다.  ❷ 중복을 제거한다.


* **TDD의 장점**은  ❶ 개발자의 방향을 잃지 않게 유지시키며,   ❷ 소프트웨어의 품질을 일정 이상 보장하고,  ❸ 자동화 단위 케이스를 가지게 되어 즉시 검사가 가능하다.   ❹ TDD를 염두하고 설계하므로 개발 의도와 목적이 명확해진다.   ❺ 코드 실패가 두렵지 않고 리팩토링을 마음 편히 할 수 있으며,  ❻ 개발 속도가 느려지지 않는다. 
* **TDD의 단점**은  ➀ 동시성(Concurrency)과 보안 등 비기능적 요소에 접근하기 어렵고,  ➁ MVC 패턴에서 의존성 모듈이 이루어지는 경우  TDD가 이루어지기 어렵다.  ➂ 테스트 코드 작성이 어렵고,  나쁜 코드를 잘 찾을 수 있는 것은 아니다.  여전히 코딩 경험과 지식이 필요하다. 
* 그럼에도 불구하고,  기존의 개발방식( 요구사항 분석 ➞ 설계 ➞ 개발 ➞ 테스트 ➞ 배포)에서  소비자의 요구사항이 처음부터 명확할 수 없으므로 처음부터 완벽한 설계는 어렵다는 한계를 TDD는 극복하려고 한다. 







# 3. with Pycharm & Git 

* [Jetbrain 공식문서 : Test-Driven Development with Twisted](https://www.jetbrains.com/help/pycharm/test-driven-development-with-twisted.html)
* Git과 연계하여  TDD를 할 경우,  **commit 전**에  새로운 코드에 대한 test가 마무리 되어야 한다. 

 



# 4. TDD 기초와 Django

## 가.  Selenium과  FT

* FT ( Functional Test )


* 설치 - selenium

```sh
➜  pip install selenium
```

* webdriver 다운로드 - ❶ Chrome  ❷ PhantomJS 


* functional_tests.py

```python
from selenium import webdriver

browser = webdriver.Chrome("path-to/크롬드라이버")
# 또는,
# browser = webdriver.PhantomJS("path-to/PhantomJS드라이버")
browser.get('http://localhost:8000')

assert 'Django' in browser.title
```



```sh
➜  python functional_tests.py
```





# 

